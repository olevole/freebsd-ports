# Created by: Gvozdikov Veniamin <g.veniamin@googlemail.com>
# $FreeBSD$

PORTNAME=	razorqt
PORTVERSION=	0.5.2
CATEGORIES=	x11-wm
MASTER_SITES=	http://razor-qt.org/downloads/

MAINTAINER=	g.veniamin@googlemail.com
COMMENT=	Advanced, easy-to-use, and fast desktop environment

BUILD_DEPENDS=	doxygen:${PORTSDIR}/devel/doxygen

CMAKE_VERBOSE=	yes
USE_XORG=	xcomposite
USE_BZIP2=	yes
USE_CMAKE=	yes
USE_LDCONFIG=	yes
USE_QT4=	gui xml qmake_build uic_build moc_build rcc_build \
		linguist_build dbus

OPTIONS_DEFINE=	\
	ABOUT APPSWITCHER ASKPASS AUTOSUSPEND CONFIG CONFUPDATE \
	DESKTOP GLOBALKEYSHORTCUTS \
	LIGHTDM NOTIFICATIOND PANEL POLICYKIT POWER \
	RESOURCES RUNNER SESSION X11INFO

ABOUT_DESC=		Razor information
APPSWITCHER_DESC=	Razor Alt-Tab Application switcher
ASKPASS_DESC=		SSH Askpass
AUTOSUSPEND_DESC=	Razor Autosuspend
CONFIG_DESC=		Razor Configuration
CONFUPDATE_DESC=	Configuration updater
DESKTOP_DESC=		Razor Desktop
GLOBALKEYSHORTCUTS_DESC=Global Shortcut daemon
LIGHTDM_DESC=		Razor LightDM greeter
NOTIFICATIOND_DESC=	Razor Notifications Daemon
PANEL_DESC=		Razor Panel
POLICYKIT_DESC=		Razor PolicyKit agent
POWER_DESC=		Razor power control
RESOURCES_DESC=		Razor resources
RUNNER_DESC=		Razor Runner
SESSION_DESC=		Razor Session manager
X11INFO_DESC=		X11 info

OPTIONS_DEFAULT=	SESSION

CMAKE_ARGS+=	-DMODULE_LIBRAZORQT=ON \
		-DMODULE_LIBRAZORMOUNT=ON \
		-DMODULE_QTXDG=ON \
		-DMODULE_LIBRAZORQXT=ON \
		-DRAZOR_ETC_XDG_DIRECTORY="${PREFIX}/etc/xdg"

.include <bsd.port.options.mk>

.if ${PORT_OPTIONS:MABOUT}
CMAKE_ARGS+=	-DMODULE_ABOUT=ON
PLIST_SUB+=	ABOUT=""
.else
CMAKE_ARGS+=	-DMODULE_ABOUT=OFF
PLIST_SUB+=	ABOUT="@comment "
.endif

.if ${PORT_OPTIONS:MAPPSWITCHER}
CMAKE_ARGS+=	-DMODULE_APPSWITCHER=ON
PLIST_SUB+=	APPSWITCHER=""
.else
CMAKE_ARGS+=	-DMODULE_APPSWITCHER=OFF
PLIST_SUB+=	APPSWITCHER="@comment "
.endif

.if ${PORT_OPTIONS:MASKPASS}
CMAKE_ARGS+=	-DMODULE_ASKPASS=ON
PLIST_SUB+=	ASKPASS=""
.else
CMAKE_ARGS+=	-DMODULE_ASKPASS=OFF
PLIST_SUB+=	ASKPASS="@comment "
.endif

.if ${PORT_OPTIONS:MAUTOSUSPEND}
CMAKE_ARGS+=	-DMODULE_AUTOSUSPEND=ON
PLIST_SUB+=	AUTOSUSPEND=""
.else
CMAKE_ARGS+=	-DMODULE_AUTOSUSPEND=OFF
PLIST_SUB+=	AUTOSUSPEND="@comment "
.endif

.if ${PORT_OPTIONS:MCONFIG}
CMAKE_ARGS+=	-DMODULE_CONFIG=ON
PLIST_SUB+=	CONFIG=""
.else
CMAKE_ARGS+=	-DMODULE_CONFIG=OFF
PLIST_SUB+=	CONFIG="@comment "
.endif

.if ${PORT_OPTIONS:MCONFUPDATE}
CMAKE_ARGS+=	-DMODULE_CONFUPDATE=ON
PLIST_SUB+=	CONFUPDATE=""
.else
CMAKE_ARGS+=	-DMODULE_CONFUPDATE=OFF
PLIST_SUB+=	CONFUPDATE="@comment "
.endif

.if ${PORT_OPTIONS:MDESKTOP}
CMAKE_ARGS+=	-DMODULE_DESKTOP=ON
PLIST_SUB+=	DESKTOP=""
.else
CMAKE_ARGS+=	-DMODULE_DESKTOP=OFF
PLIST_SUB+=	DESKTOP="@comment "
.endif

.if ${PORT_OPTIONS:MGLOBALKEYSHORTCUTS}
CMAKE_ARGS+=	-DMODULE_GLOBALKEYSHORTCUTS=ON
PLIST_SUB+=	GLOBALKEYSHORTCUTS=""
.else
CMAKE_ARGS+=	-DMODULE_GLOBALKEYSHORTCUTS=OFF
PLIST_SUB+=	GLOBALKEYSHORTCUTS="@comment "
.endif

.if ${PORT_OPTIONS:MLIGHTDM}
CMAKE_ARGS+=	-DMODULE_LIGHTDM=ON
.else
CMAKE_ARGS+=	-DMODULE_LIGHTDM=OFF
.endif

.if ${PORT_OPTIONS:MNOTIFICATIOND}
CMAKE_ARGS+=	-DMODULE_NOTIFICATIOND=ON
PLIST_SUB+=	NOTIFICATIOND=""
.else
CMAKE_ARGS+=	-DMODULE_NOTIFICATIOND=OFF
PLIST_SUB+=	NOTIFICATIOND="@comment "
.endif

.if ${PORT_OPTIONS:MPANEL}
CMAKE_ARGS+=	-DMODULE_PANEL=ON
PLIST_SUB+=	PANEL=""
.else
CMAKE_ARGS+=	-DMODULE_PANEL=OFF
PLIST_SUB+=	PANEL="@comment "
.endif

.if ${PORT_OPTIONS:MPOLICYKIT}
CMAKE_ARGS+=	-DMODULE_POLICYKIT=ON
.else
CMAKE_ARGS+=	-DMODULE_POLICYKIT=OFF
.endif

.if ${PORT_OPTIONS:MPOWER}
CMAKE_ARGS+=	-DMODULE_POWER=ON
PLIST_SUB+=	POWER=""
.else
CMAKE_ARGS+=	-DMODULE_POWER=OFF
PLIST_SUB+=	POWER="@comment "
.endif

.if ${PORT_OPTIONS:MRESOURCES}
CMAKE_ARGS+=	-DMODULE_RESOURCES=ON
PLIST_SUB+=	RESOURCES=""
.else
CMAKE_ARGS+=	-DMODULE_RESOURCES=OFF
PLIST_SUB+=	RESOURCES="@comment "
.endif

.if ${PORT_OPTIONS:MRUNNER}
CMAKE_ARGS+=	-DMODULE_RUNNER=ON
PLIST_SUB+=	RUNNER=""
.else
CMAKE_ARGS+=	-DMODULE_RUNNER=OFF
PLIST_SUB+=	RUNNER="@comment "
.endif

.if ${PORT_OPTIONS:MSESSION}
CMAKE_ARGS+=	-DMODULE_SESSION=ON
PLIST_SUB+=	SESSION=""
.else
CMAKE_ARGS+=	-DMODULE_SESSION=OFF
PLIST_SUB+=	SESSION="@comment "
.endif

.if ${PORT_OPTIONS:MX11INFO}
CMAKE_ARGS+=	-DMODULE_X11INFO=ON
PLIST_SUB+=	X11INFO=""
.else
CMAKE_ARGS+=	-DMODULE_X11INFO=OFF
PLIST_SUB+=	X11INFO="@comment "
.endif

.include <bsd.port.mk>
